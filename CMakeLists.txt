cmake_minimum_required(VERSION 2.6)
project(TimeSync)
set(CMAKE_CXX_FLAGS "-pthread -std=gnu++11")
add_subdirectory(JPET-Data)
include_directories(${JPET_DATA_INC})
link_directories(${JPET_DATA_LIBDIR})
include_directories(${CMAKE_CURRENT_SOURCE_DIR})
list(APPEND CMAKE_MODULE_PATH "${CMAKE_CURRENT_SOURCE_DIR}/star-cmake")
find_package(ROOT)
if(NOT ROOT_FOUND)
	message(FATAL_ERROR "Fatal error: ROOT package not found")
endif()
include_directories(${ROOT_INCLUDE_DIR})

file(GLOB IO IO/*.cpp)
add_library(timesyncio ${IO})

file(GLOB CALC Calc/*.cpp)
add_library(timesynccalc ${CALC})

add_executable(test test.cpp)
target_link_libraries(test timesynccalc timesyncio FitGen gpwrap ${JPET_DATA_LIBS} ${ROOT_LIBRARIES})
